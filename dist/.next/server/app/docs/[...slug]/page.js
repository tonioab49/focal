(()=>{var e={};e.id=687,e.ids=[687],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},2048:e=>{"use strict";e.exports=require("fs")},7718:e=>{"use strict";e.exports=require("node:child_process")},6005:e=>{"use strict";e.exports=require("node:crypto")},7561:e=>{"use strict";e.exports=require("node:fs")},9411:e=>{"use strict";e.exports=require("node:path")},2442:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(9415),s(9097),s(5866);var r=s(3191),o=s(8716),a=s(7922),n=s.n(a),i=s(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c=["",{children:["docs",{children:["[...slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9415)),"/Users/antoine/src/focal/src/app/docs/[...slug]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9097)),"/Users/antoine/src/focal/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/antoine/src/focal/src/app/docs/[...slug]/page.tsx"],u="/docs/[...slug]/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/docs/[...slug]/page",pathname:"/docs/[...slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8693:(e,t,s)=>{Promise.resolve().then(s.bind(s,8020))},8020:(e,t,s)=>{"use strict";s.d(t,{DocEditor:()=>h});var r=s(326),o=s(7577),a=s(5047),n=s(9476),i=s(9049),l=s(4884),c=s(6019),d=s(1601),u=s(7591),p=s(7001),x=s(8033),m=s(8176),g=s(1063);function h({filePath:e,content:t,title:s,slug:h}){let b=(0,a.useRouter)(),[f,y]=(0,o.useState)(!1),[v,j]=(0,o.useState)(!1),{provider:P,ydocRef:_,connectedUsers:N,user:q,broadcastSave:w}=(0,p.C)(e,{onSaveBroadcast:()=>j(!1)}),k=(0,u.n)(),C=(0,o.useMemo)(()=>P&&_.current?[...(0,d.y)({collaboration:!0}),i.ZP.configure({document:_.current}),l.Z.configure({provider:P,user:q,render:e=>{let t=document.createElement("span");t.classList.add("collaboration-carets__caret"),t.style.borderColor=e.color;let s=document.createElement("div");return s.classList.add("collaboration-carets__label"),s.style.backgroundColor=e.color,s.textContent=e.id===q.id?"Me":e.name,t.append(s),t}})]:null,[P,q,_]),E=(0,n.jE)({extensions:C??(0,d.y)(),editable:!0,immediatelyRender:!1,editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[200px]"}},onUpdate:({transaction:e})=>{e.getMeta("y-sync$")||j(!0)}},[C]),M=(0,o.useCallback)(async()=>{if(E&&P&&!f&&v){y(!0);try{let t=E.getHTML(),s=c.O.turndown(t);await (0,x.MF)({filePath:e,content:s}),j(!1),w(),b.refresh()}catch(e){console.error("Failed to save:",e)}finally{y(!1)}}},[E,e,f,v,b,P,w]);return(0,m.a)((0,o.useMemo)(()=>[{key:"s",meta:!0,handler:M,global:!0}],[M])),(0,r.jsxs)("div",{className:"mx-auto max-w-[750px]",children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:s}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[N.length>0&&r.jsx("div",{className:"flex items-center gap-1.5",children:r.jsx("div",{className:"flex -space-x-1.5",children:N.slice(0,5).map((e,t)=>r.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full border-2 border-white text-[10px] font-semibold text-white",style:{backgroundColor:e.color},title:e.displayName,children:e.displayName.charAt(0)},t))})}),v&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Unsaved changes"}),r.jsx("button",{onClick:M,disabled:f,className:"rounded-md bg-blue-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors disabled:opacity-50",children:f?"Saving...":"Save"})]})]})]}),E&&r.jsx(g.g,{editor:E,className:"mb-3 border-b border-gray-200 pb-3"}),r.jsx("div",{onClickCapture:k,children:r.jsx(n.kg,{editor:E})}),v&&(0,r.jsxs)("p",{className:"mt-2 text-xs text-gray-400",children:[r.jsx("kbd",{className:"rounded border border-gray-200 bg-gray-100 px-1 py-0.5 font-mono text-[10px]",children:"âŒ˜S"})," to save"]})]})}},9415:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,dynamic:()=>i});var r=s(9510),o=s(8585),a=s(8627);let n=(0,s(8570).createProxy)(String.raw`/Users/antoine/src/focal/src/components/DocEditor.tsx#DocEditor`),i="force-dynamic";function l({params:e}){let t=e.slug.join("/"),s=(0,a.P)(t);s||(0,o.notFound)();let i=(0,a.Kp)(s.filePath);return r.jsx("div",{className:"h-full p-6",children:r.jsx(n,{filePath:s.filePath,content:i,title:s.title,slug:s.slug})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[161,736,652,113],()=>s(2442));module.exports=r})();