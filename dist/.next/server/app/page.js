(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},2048:e=>{"use strict";e.exports=require("fs")},7718:e=>{"use strict";e.exports=require("node:child_process")},7561:e=>{"use strict";e.exports=require("node:fs")},9411:e=>{"use strict";e.exports=require("node:path")},4656:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(4105),r(9097),r(5866);var s=r(3191),n=r(8716),a=r(7922),l=r.n(a),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4105)),"/Users/antoine/src/focal/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9097)),"/Users/antoine/src/focal/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/antoine/src/focal/src/app/page.tsx"],u="/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4143:(e,t,r)=>{Promise.resolve().then(r.bind(r,3818)),Promise.resolve().then(r.bind(r,6117))},3818:(e,t,r)=>{"use strict";r.d(t,{BoardHeader:()=>l});var s=r(326),n=r(7577),a=r(111);function l({taskCount:e,repoName:t}){let[r,l]=(0,n.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-6 flex items-end justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-3",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Tasks"}),s.jsx("button",{onClick:()=>l(!0),className:"rounded border border-gray-300 px-2 py-0.5 text-xs font-medium text-gray-500 hover:border-blue-600 hover:bg-blue-600 hover:text-white transition-colors",children:"New"})]}),(0,s.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:[e," ",1===e?"task":"tasks"]})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-400 flex items-center gap-1",children:["Press ",s.jsx("kbd",{className:"rounded border border-gray-300 bg-gray-100 px-1.5 py-0.5 font-mono text-[10px] text-gray-500",children:"?"})," for shortcuts"]})]}),r&&s.jsx(a.r,{type:"task",repoName:t,onClose:()=>l(!1)})]})}},6117:(e,t,r)=>{"use strict";r.d(t,{KanbanBoard:()=>x});var s=r(326),n=r(7577),a=r(5047),l=r(434);let i={urgent:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",medium:"bg-yellow-100 text-yellow-700",low:"bg-blue-100 text-blue-700"},o={urgent:"Urgent",high:"High",medium:"Medium",low:"Low"};function d({task:e,selected:t}){return(0,s.jsxs)(l.default,{href:`/task/${e.id}`,className:`block rounded-lg border bg-white p-3 shadow-sm transition-all ${t?"border-blue-500 ring-2 ring-blue-500/20 shadow":"border-gray-200 hover:border-blue-300 hover:shadow"}`,children:[s.jsx("div",{className:"mb-2 flex items-start justify-between gap-2",children:s.jsx("h3",{className:"text-sm font-medium leading-snug text-gray-900",children:e.title})}),e.priority&&s.jsx("div",{className:"flex flex-wrap items-center gap-2",children:s.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${i[e.priority]}`,children:o[e.priority]})}),e.assignee&&s.jsx("p",{className:"mt-2 truncate text-xs text-gray-400",children:e.assignee})]})}var c=r(8176);let u=[{status:"todo",label:"To Do"},{status:"in-progress",label:"In Progress"},{status:"done",label:"Done"}];function x({tasks:e}){let t=(0,a.useRouter)(),r=(0,n.useMemo)(()=>u.map(t=>e.filter(e=>e.status===t.status)),[e]),[l,i]=(0,n.useState)(null),o=l&&r[l[0]]&&r[l[0]][l[1]]?r[l[0]][l[1]]:null,x=(0,n.useCallback)((e,t)=>{i(s=>{if(!s){for(let e=0;e<r.length;e++)if(r[e].length>0)return[e,0];return null}let[n,a]=s;if(0!==e){let t=n+e;t<0&&(t=r.length-1),t>=r.length&&(t=0);let l=0;for(;0===r[t].length&&l<r.length;)(t+=e)<0&&(t=r.length-1),t>=r.length&&(t=0),l++;return 0===r[t].length?s:[t,Math.min(a,r[t].length-1)]}if(0!==t){let e=r[n].length;if(0===e)return s;let l=a+t;return l<0&&(l=0),l>=e&&(l=e-1),[n,l]}return s})},[r]),p=(0,n.useCallback)(()=>{o&&t.push(`/task/${o.id}`)},[o,t]);return(0,c.a)((0,n.useMemo)(()=>[{key:"j",handler:()=>x(0,1)},{key:"k",handler:()=>x(0,-1)},{key:"h",handler:()=>x(-1,0)},{key:"l",handler:()=>x(1,0)},{key:"ArrowDown",handler:()=>x(0,1)},{key:"ArrowUp",handler:()=>x(0,-1)},{key:"ArrowLeft",handler:()=>x(-1,0)},{key:"ArrowRight",handler:()=>x(1,0)},{key:"Enter",handler:p},{key:"Escape",handler:()=>i(null)}],[x,p])),s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3 md:max-w-[1548px]",children:u.map((e,t)=>{let n=r[t];return(0,s.jsxs)("div",{className:"flex flex-col gap-3 md:max-w-[500px]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:e.label}),s.jsx("span",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-medium text-gray-500",children:n.length})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 rounded-lg bg-gray-50 p-3 min-h-[120px]",children:[n.map((e,r)=>s.jsx(d,{task:e,selected:null!==l&&l[0]===t&&l[1]===r},e.filePath)),0===n.length&&s.jsx("p",{className:"text-center text-xs text-gray-400 py-6",children:"No tasks"})]})]},e.status)})})}},4105:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,dynamic:()=>d});var s=r(9510),n=r(8570);let a=(0,n.createProxy)(String.raw`/Users/antoine/src/focal/src/components/KanbanBoard.tsx#KanbanBoard`),l=(0,n.createProxy)(String.raw`/Users/antoine/src/focal/src/components/BoardHeader.tsx#BoardHeader`);var i=r(8583),o=r(9053);let d="force-dynamic";async function c(){let e=await (0,o.getRepoList)(),t=await (0,o.getSelectedRepo)(),r=t&&e.includes(t)?t:e[0],n=(0,i.U)(r);return(0,s.jsxs)("div",{className:"h-full p-6",children:[s.jsx(l,{taskCount:n.length,repoName:r}),s.jsx(a,{tasks:n})]})}},8583:(e,t,r)=>{"use strict";r.d(t,{U:()=>x});var s=r(7561),n=r.n(s),a=r(9411),l=r.n(a),i=r(3673),o=r.n(i),d=r(8154);let c=["todo","in-progress","done"],u=["low","medium","high","urgent"];function x(e){let t=(0,d.HA)(),r=[];for(let s of t){if(e&&s.name!==e)continue;let t=l().join(s.path,".focal","tasks");if(n().existsSync(t))for(let e of function(e){let t=[];return function e(r){let s;try{s=n().readdirSync(r,{withFileTypes:!0})}catch{return}for(let n of s){let s=l().join(r,n.name);n.isDirectory()&&!n.name.startsWith(".")?e(s):n.isFile()&&n.name.endsWith(".mdx")&&t.push(s)}}(e),t}(t)){let t=function(e,t){let r=n().readFileSync(e,"utf-8"),{data:s,content:a}=o()(r);if(!s.title||!s.status||!c.includes(s.status))return null;let i=l().basename(e,".mdx");return{id:`${t}/${i}`,title:s.title,status:s.status,priority:u.includes(s.priority)?s.priority:void 0,assignee:"string"==typeof s.assignee?s.assignee:void 0,repository:t,filePath:e,body:a.trim()}}(e,s.name);t&&r.push(t)}}return r}}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[161,652],()=>r(4656));module.exports=s})();