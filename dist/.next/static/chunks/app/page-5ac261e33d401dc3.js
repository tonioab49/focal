(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1274:function(e,t,r){Promise.resolve().then(r.bind(r,2690)),Promise.resolve().then(r.bind(r,5485))},5064:function(e,t,r){"use strict";r.d(t,{F9:function(){return l},MF:function(){return i},VA:function(){return a},dj:function(){return n},do:function(){return o},vr:function(){return d}}),r(3079);var s=r(2119),a=(0,s.$)("4810e0847edab22d875d1f15f89918103c558ebd"),n=(0,s.$)("29d9cd11d097fcb6690a26ef774aeeee260b389b");(0,s.$)("bfa1de4d25904e288eea8780fb8c48c13f8304d2"),(0,s.$)("ac8031647eec6a4700a6a90d39c2af1c1d5bd267");var l=(0,s.$)("0b32d0e7a9e913867bfb2724e5c71bc874ca9624"),i=(0,s.$)("d36e843f1a3e9ed7e591d8cb5f8779c3f4ad0876");(0,s.$)("48e24bf6b7790941829c1b47555db59c45439f76"),(0,s.$)("5896e2c5181e1accf5bdf86f55c5717bc2bfa048");var d=(0,s.$)("5171b9bc6fa8d6fb730de54219624f90f34cbafd"),o=(0,s.$)("f53de7a8283b631e23b5e166f5d38eeac215e2cd")},2690:function(e,t,r){"use strict";r.d(t,{BoardHeader:function(){return l}});var s=r(7437),a=r(2265),n=r(1492);function l(e){let{taskCount:t,repoName:r}=e,[l,i]=(0,a.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-6 flex items-end justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Tasks"}),(0,s.jsx)("button",{onClick:()=>i(!0),className:"rounded border border-gray-300 px-2 py-0.5 text-xs font-medium text-gray-500 hover:border-blue-600 hover:bg-blue-600 hover:text-white transition-colors",children:"New"})]}),(0,s.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:[t," ",1===t?"task":"tasks"]})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-400 flex items-center gap-1",children:["Press ",(0,s.jsx)("kbd",{className:"rounded border border-gray-300 bg-gray-100 px-1.5 py-0.5 font-mono text-[10px] text-gray-500",children:"?"})," for shortcuts"]})]}),l&&(0,s.jsx)(n.r,{type:"task",repoName:r,onClose:()=>i(!1)})]})}},5485:function(e,t,r){"use strict";r.d(t,{KanbanBoard:function(){return f}});var s=r(7437),a=r(2265),n=r(9376),l=r(7648);let i={urgent:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",medium:"bg-yellow-100 text-yellow-700",low:"bg-blue-100 text-blue-700"},d={urgent:"Urgent",high:"High",medium:"Medium",low:"Low"};function o(e){let{task:t,selected:r}=e;return(0,s.jsxs)(l.default,{href:"/task/".concat(t.id),className:"block rounded-lg border bg-white p-3 shadow-sm transition-all ".concat(r?"border-blue-500 ring-2 ring-blue-500/20 shadow":"border-gray-200 hover:border-blue-300 hover:shadow"),children:[(0,s.jsx)("div",{className:"mb-2 flex items-start justify-between gap-2",children:(0,s.jsx)("h3",{className:"text-sm font-medium leading-snug text-gray-900",children:t.title})}),t.priority&&(0,s.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:(0,s.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ".concat(i[t.priority]),children:d[t.priority]})}),t.assignee&&(0,s.jsx)("p",{className:"mt-2 truncate text-xs text-gray-400",children:t.assignee})]})}var c=r(1683);let u=[{status:"todo",label:"To Do"},{status:"in-progress",label:"In Progress"},{status:"done",label:"Done"}];function f(e){let{tasks:t}=e,r=(0,n.useRouter)(),l=(0,a.useMemo)(()=>u.map(e=>t.filter(t=>t.status===e.status)),[t]),[i,d]=(0,a.useState)(null),f=i&&l[i[0]]&&l[i[0]][i[1]]?l[i[0]][i[1]]:null,m=(0,a.useCallback)((e,t)=>{d(r=>{if(!r){for(let e=0;e<l.length;e++)if(l[e].length>0)return[e,0];return null}let[s,a]=r;if(0!==e){let t=s+e;t<0&&(t=l.length-1),t>=l.length&&(t=0);let n=0;for(;0===l[t].length&&n<l.length;)(t+=e)<0&&(t=l.length-1),t>=l.length&&(t=0),n++;return 0===l[t].length?r:[t,Math.min(a,l[t].length-1)]}if(0!==t){let e=l[s].length;if(0===e)return r;let n=a+t;return n<0&&(n=0),n>=e&&(n=e-1),[s,n]}return r})},[l]),x=(0,a.useCallback)(()=>{f&&r.push("/task/".concat(f.id))},[f,r]);return(0,c.a)((0,a.useMemo)(()=>[{key:"j",handler:()=>m(0,1)},{key:"k",handler:()=>m(0,-1)},{key:"h",handler:()=>m(-1,0)},{key:"l",handler:()=>m(1,0)},{key:"ArrowDown",handler:()=>m(0,1)},{key:"ArrowUp",handler:()=>m(0,-1)},{key:"ArrowLeft",handler:()=>m(-1,0)},{key:"ArrowRight",handler:()=>m(1,0)},{key:"Enter",handler:x},{key:"Escape",handler:()=>d(null)}],[m,x])),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3 md:max-w-[1548px]",children:u.map((e,t)=>{let r=l[t];return(0,s.jsxs)("div",{className:"flex flex-col gap-3 md:max-w-[500px]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h2",{className:"text-sm font-semibold text-gray-700",children:e.label}),(0,s.jsx)("span",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-medium text-gray-500",children:r.length})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 rounded-lg bg-gray-50 p-3 min-h-[120px]",children:[r.map((e,r)=>(0,s.jsx)(o,{task:e,selected:null!==i&&i[0]===t&&i[1]===r},e.filePath)),0===r.length&&(0,s.jsx)("p",{className:"text-center text-xs text-gray-400 py-6",children:"No tasks"})]})]},e.status)})})}},1492:function(e,t,r){"use strict";r.d(t,{r:function(){return d}});var s=r(7437),a=r(2265),n=r(9376),l=r(1683),i=r(5064);function d(e){let{type:t,repoName:r,onClose:d}=e,o=(0,n.useRouter)(),[c,u]=(0,a.useState)(""),[f,m]=(0,a.useTransition)(),x=(0,a.useCallback)(()=>d(),[d]);return(0,l.a)((0,a.useMemo)(()=>[{key:"Escape",global:!0,handler:x}],[x])),(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:d}),(0,s.jsxs)("div",{className:"relative rounded-lg border border-gray-200 bg-white shadow-xl w-full max-w-md mx-4 p-5",children:[(0,s.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-4",children:"task"===t?"New task":"New document"}),(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c.trim()&&!f&&m(async()=>{if("task"===t){let{taskId:e}=await (0,i.vr)({title:c.trim(),repoName:r});o.push("/task/".concat(e))}else{let{slug:e}=await (0,i.do)({title:c.trim(),repoName:r});o.push("/docs/".concat(e))}d()})},children:[(0,s.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Title",autoFocus:!0,disabled:f,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-900 placeholder-gray-400 focus:border-gray-500 focus:outline-none focus:ring-1 focus:ring-gray-500 disabled:opacity-50"}),(0,s.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:d,disabled:f,className:"rounded-md px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-100 disabled:opacity-50",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:!c.trim()||f,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50",children:f?"Creatingâ€¦":"Create"})]})]})]})]})}},1683:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});var s=r(2265);function a(e){(0,s.useEffect)(()=>{function t(t){let r=t.target,s="INPUT"===r.tagName||"TEXTAREA"===r.tagName||"SELECT"===r.tagName||r.isContentEditable;for(let r of e)if(r.key===t.key&&(!r.meta||t.metaKey)&&(!r.ctrl||t.ctrlKey)&&(!r.shift||t.shiftKey)&&(r.meta||!t.metaKey)&&(r.ctrl||!t.ctrlKey)&&(!s||r.global)){t.preventDefault(),r.handler(t);return}}return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e])}}},function(e){e.O(0,[219,971,117,744],function(){return e(e.s=1274)}),_N_E=e.O()}]);